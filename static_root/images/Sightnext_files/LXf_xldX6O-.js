if (self.CavalryLogger) { CavalryLogger.start_js(["19N4b"]); }

__d("DesktopHscrollUnitEventConstants",[],(function a(b,c,d,e,f,g){f.exports={HSCROLL_ITEM_INSERTED_EVENT:"DesktopHScrollUnit/itemInserted",HSCROLL_ITEM_SHOWN_EVENT:"DesktopHScrollUnit/itemShown",HSCROLL_ITEM_HIDE_EVENT:"DesktopHScrollUnit/HideIndividualItem",HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT:"DesktopHScrollUnit/scrollItemBeforeXout",HSCROLL_ITEM_UNHIDE_EVENT:"DesktopHScrollUnit/unhideIndividualItem",HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN:"logLastAdXout",HSCROLL_PAGER_ITEM_HIDE_EVENT:"onXoutIndividualItem"}}),null);
__d("BrowseClientEventLogger",["Banzai","SearchLoggingOptions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="browse_client_event_session",i="search_www_click_error",j="21.",k={logData:function l(event,m,n){__p&&__p();var o=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];if(!event||!m)return;o.event=event;o.client_time=Math.floor(Date.now());o.client_time_2=Date.now()/1e3;o.session_id=m;o.vertical=n;this.processedSessions=this.processedSessions||[];if(this.processedSessions.indexOf(m)!==-1)return;var p=o.event==="click"&&o.clicked_href!=null&&c("SearchLoggingOptions").signalLinkClicks;c("Banzai").post(h,[o],{delay:0,retry:true,signal:p})},logClick:function l(m){m.gt.event="click";this.maybeLogVisiblityEvent(m,true)},maybeLogClientViewEvent:function l(m){m.event="client_view";this.maybeLogVisiblityEvent(m)},maybeLogVisiblityEvent:function l(m){__p&&__p();var n=arguments.length<=1||arguments[1]===undefined?false:arguments[1],o=null;if(n){o=m;m=m.gt}if(!m||!m.xt||m.xt.indexOf(j)!==0){if(n)c("Banzai").post(i,[o],{delay:0,retry:true});return}var p=JSON.parse(m.xt.substring(3));if(n){p.click_type=m.click_type;p.tn=m.tn;p.clicked_href=m.clicked_href;if(o&&o.bt&&o.bt.ct=="feedback"){p.feedback_score=o.bt.feedback_score;p.feedback_type=o.bt.feedback_type}}var event=m.event;if(p.display_style==="context_hscroll"&&(event==="client_view"||event==="vpvd"||event==="visible"||event==="hidden"))return;if(event==="vpvd"){if(!m.ft)return;p.vpvd_time=m.ft.vpvd_time_delta}this.logData(event,p.session_id,p.vertical,p)},logImpression:function l(m){m.event="impression";this.maybeLogVisiblityEvent(m)}};f.exports=k}),null);
__d("AttachmentRelatedShareConstants",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ARTICLE_CLICK:"article_click",VIDEO_CLICK:"video_click",FBVIDEO_CLICK:"fbvideo_click",FBVIDEO_VIEW:"fbvideo_view",GAME_CLICK:"game_click",PHOTO_CLICK:"photo_click",EVENT_JOIN:"event_join",PRODUCT_CLICK:"product_click",MAP_CLICK:"map_click",ACTION_BUTTON_CLICK:"action_button_click"})}),null);
__d("XPubcontentInlinePhotoPivotsEventsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pubcontent/inline_photo_pivots_chaining/events/",{})}),null);
__d("EntstreamAttachmentRelatedShare",["csx","cx","Arbiter","AsyncRequest","AttachmentRelatedShareConstants","CSS","DOM","Event","XPubcontentInlinePhotoPivotsEventsController","ge","getOrCreateDOMID","tidyEvent"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=2,k=3,l={loadRelatedAttachment:function m(n,o,p){__p&&__p();var q=null;if(typeof n==="string")q=c("ge")(n);else q=n;if(!q)return;var r=c("Event").listen(q,"click",function(){r.remove();c("Arbiter").inform(c("AttachmentRelatedShareConstants").ARTICLE_CLICK,{attachment:q,global_share_id:o,is_right_click:false,share_id:p})}),s=c("Event").listen(q,"mousedown",function(event){if(event.which===k||event.button===j){s.remove();c("Arbiter").inform(c("AttachmentRelatedShareConstants").ARTICLE_CLICK,{attachment:q,global_share_id:o,is_right_click:true})}})},loadInlineStoryPivotAttachment:function m(n,o){var p=c("ge")(n);if(!p)return;var q=c("Event").listen(p,"click",function(){q.remove();c("Arbiter").inform(c("AttachmentRelatedShareConstants").PHOTO_CLICK,{attachment:p,storyid:o})})},loadRelatedGameAttachment:function m(n,o){__p&&__p();var p=null;if(typeof n==="string")p=c("ge")(n);else p=n;if(!p)return;c("tidyEvent")(c("Event").listen(p,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").GAME_CLICK,{attachment:p,global_share_id:o})}));c("tidyEvent")(c("Event").listen(p,"mousedown",function(event){if(event.which===k||event.button===j)c("Arbiter").inform(c("AttachmentRelatedShareConstants").GAME_CLICK,{attachment:p,global_share_id:o})}))},loadRelatedLSCVideoAttachment:function m(n,o){var p=null;if(typeof n==="string")p=c("ge")(n);else p=n;if(!p)return;var q=c("Event").listen(p,"click",function(){q.remove();c("Arbiter").inform(c("AttachmentRelatedShareConstants").VIDEO_CLICK,{attachment:p,global_share_id:o})})},loadRelatedLSCInlineVideoAttachment:function m(n,o){__p&&__p();var p=null;if(typeof n==="string")p=c("ge")(n);else p=n;if(!p)return;c("Event").listen(p,"click",function(){__p&&__p();var q="^div._4-u2",r="_1d8v",s=c("DOM").scry(p,q),t=s.length===1?s[0]:null,u=t.parentNode,v=u.previousSibling;while(!v){u=u.parentNode;v=u.previousSibling}if(!c("CSS").hasClass(v,r))var w=c("DOM").create("div",{className:r}),x=c("DOM").insertBefore(t.parentNode,w),y=x.length>=1?x[0]:null;else y=v;var z=c("getOrCreateDOMID")(y);new(c("AsyncRequest"))().setURI("/ajax/flash/expand_inline.php").setData({share_id:o,target_div:z,max_width:470,max_height:264,replace_target_div:true}).setMethod("GET").setReadOnly(true).setRelativeTo(p.parentNode).send()})},loadRelatedEventsPivotAttachment:function m(n,o){var p=null;if(typeof n==="string")p=c("ge")(n);else p=n;if(!p)return;c("tidyEvent")(c("Event").listen(p,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").EVENT_JOIN,{attachment:p,event_id:o})}))},loadRelatedProductAttachment:function m(n,o){var p=null;if(typeof n==="string")p=c("ge")(n);else p=n;if(!p)return;c("tidyEvent")(c("Event").listen(p,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").PRODUCT_CLICK,{attachment:p,product_id:o})}))},loadMapAttachment:function m(n,o,p){var q=typeof n==="string"?c("ge")(n):n;if(!q)return;var r=typeof o==="string"?c("ge")(o):o;if(!r)return;c("tidyEvent")(c("Event").listen(q,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").MAP_CLICK,{attachment:r,story_id:p})}))},loadMapAttachmentActionButton:function m(n,o){var p=typeof n==="string"?c("ge")(n):n;if(!p)return;c("tidyEvent")(c("Event").listen(p,"click",function(){c("Arbiter").inform(c("AttachmentRelatedShareConstants").ACTION_BUTTON_CLICK,{button:p,story_id:o})}))},closeButton:function m(n,o){c("Event").listen(n,"click",function(){c("DOM").remove(o)})},closeButtonPhotoPivots:function m(n,o,p,q){c("Event").listen(n,"click",function(){var r=c("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),s={story_id:p,search_query_type:q,event:"hide"};new(c("AsyncRequest"))().setMethod("POST").setURI(r.getURI()).setData(s).send();c("DOM").remove(o)})},seeAllLinkPhotoPivots:function m(n,o,p){c("Event").listen(n,"click",function(){var q=c("XPubcontentInlinePhotoPivotsEventsController").getURIBuilder(),r={story_id:o,search_query_type:p,event:"see_all"};new(c("AsyncRequest"))().setMethod("POST").setURI(q.getURI()).setData(r).send()})},removeOldSuggestions:function m(n){var o=c("ge")(n);if(!o)return;var p=c("DOM").scry(o.parentNode,"._5d73");for(var q=1;q<p.length;q++)c("DOM").remove(p[q]);setTimeout(function(){c("CSS").show(p[0])},1e3)},showHiddenSuggestions:function m(n){__p&&__p();var o=c("Event").listen(n,"click",function(){__p&&__p();o.remove();var p="^._1ui8",q=c("DOM").scry(n,p);if(!q)return;c("CSS").hide(q[0]);var r=q[0].previousSibling;while(r){c("CSS").show(r);r=r.previousSibling}})}};f.exports=l}),null);
__d("collectDataAttributes",["DataAttributeUtils","getContextualParent"],(function a(b,c,d,e,f,g){__p&&__p();var h="normal";function i(j,k,l){__p&&__p();var m={},n=[],o=k.length,p;for(p=0;p<o;++p){m[k[p]]={};n.push("data-"+k[p])}if(l){m[h]={};for(p=0;p<(l||[]).length;++p)n.push(l[p])}var q={tn:"","tn-debug":","};while(j){if(j.getAttribute)for(p=0;p<n.length;++p){var r=n[p],s=c("DataAttributeUtils").getDataAttribute(j,r);if(s){if(p>=o){if(m[h][r]===undefined)m[h][r]=s;continue}var t=JSON.parse(s);for(var u in t)if(q[u]!==undefined){if(m[k[p]][u]===undefined)m[k[p]][u]=[];m[k[p]][u].push(t[u])}else if(m[k[p]][u]===undefined)m[k[p]][u]=t[u]}}j=c("getContextualParent")(j)}for(var v in m)for(var w in q)if(m[v][w]!==undefined)m[v][w]=m[v][w].join(q[w]);return m}f.exports=i}),null);
__d("FeedTrackingAsync",["Arbiter","Run","collectDataAttributes"],(function a(b,c,d,e,f,g){__p&&__p();var h;f.exports.init=function(){__p&&__p();if(h)return;h=c("Arbiter").subscribe("AsyncRequest/send",function(i,j){var k=j.request,l=k.getRelativeTo();if(l){var m=k.getData(),n=c("collectDataAttributes")(l,["ft"]);if(n.ft&&Object.keys(n.ft).length)Object.assign(m,n)}});c("Run").onLeave(function(){h.unsubscribe();h=null})}}),null);
__d("LitestandMessages",[],(function a(b,c,d,e,f,g){var h={NEWSFEED_LOAD:"LitestandMessages/NewsFeedLoad",LEAVE_HOME:"LitestandMessages/LeaveHome",STORIES_REQUESTED:"LitestandMessages/StoriesRequested",STORIES_INSERTED:"LitestandMessages/StoriesInserted",NEWER_STORIES_REQUESTED:"LitestandMessages/NewerStoriesRequested",NEWER_STORIES_INSERTED:"LitestandMessages/NewerStoriesInserted",NEW_STORIES_CONTAINER_CREATED:"LitestandMessages/NewStoriesContainer",RHC_RELOADED:"LitestandMessages/RHCReloaded",STREAM_LOAD_ERROR:"LitestandMessages/StreamLoadError",DUPLICATE_CURSOR_ERROR:"LitestandMessages/DuplicateCursorError",STREAM_LOAD_RETRY:"LitestandMessages/StreamLoadRetry"};f.exports=h}),null);
__d("ViewableImpressionUtils",["csx","cx","CSS"],(function a(b,c,d,e,f,g,h,i){var j={isHorizontallyOffscreen:function k(l,m,n){var o=Math.max(m.x,0),p=Math.min(m.x+m.width,n.width);return p-o<m.width||c("CSS").matchesSelector(l,".desktop_hscroll_offscreen")}};f.exports=j}),null);
__d("VisibilityTrackingHelper",["Arbiter","DesktopHscrollUnitEventConstants","getViewportDimensions","Event"],(function a(b,c,d,e,f,g){var h={getEventListeners:function i(j){return[c("Event").listen(document,"DOMContentLoaded",j),c("Event").listen(window,"scroll",j),c("Event").listen(window,"resize",j),c("Arbiter").subscribe(c("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,j)]},getViewportInfo:function i(){return c("getViewportDimensions")()}};f.exports=h}),null);
__d("FullViewLogger",["Banzai","ScriptPath","SubscriptionsHandler","URI"],(function a(b,c,d,e,f,g){__p&&__p();h.logFromViewableImpressionTracker=function(i){"use strict";var j=new h();j.subscribeToTrackerEvents(i)};h.prototype.subscribeToTrackerEvents=function(i){"use strict";this.subscriptionsHandler=new(c("SubscriptionsHandler"))();this.subscriptionsHandler.addSubscriptions(i.addListener("full_view",this.onFullView,this))};h.prototype.onFullView=function(i){"use strict";if(this.$FullViewLogger1())this.$FullViewLogger2(i);var j={token:i.token,fullViewType:i.fullViewType,scriptPath:c("ScriptPath").getTopViewEndpoint()};c("Banzai").post("xtrackable:full_view",j);if(this.$FullViewLogger1())this.$FullViewLogger3(j)};h.prototype.$FullViewLogger1=function(){"use strict";return 0};h.prototype.$FullViewLogger2=function(i){"use strict"};h.prototype.$FullViewLogger3=function(i){"use strict"};function h(){"use strict"}f.exports=h}),null);
__d("CommercialBreakMobileEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBSCRIPTION_SUCCESS:"commercial_break_skywalker_subscription_success",SUBSCRIPTION_FAILURE:"commercial_break_skywalker_subscription_failure",RECEIVE_INTENT_MSG:"commercial_break_skywalker_receive_intent",RECEIVE_START_MSG:"commercial_break_skywalker_receive_start",RECEIVE_INVALID_MSG:"commercial_break_skywalker_receive_invalid_message",VIDEO_FETCH_SUCCESS:"commercial_break_video_fetch_success",VIDEO_FETCH_FAILURE:"commercial_break_video_fetch_failure",COMMERCIAL_BREAK_INLINE_TO_FULLSCREEN:"commercial_break_inline_to_fullscreen",COMMERCIAL_BREAK_FULLSCREEN_TO_INLINE:"commercial_break_fullscreen_to_inline",COMMERCIAL_BREAK_SCROLLED_AWAY:"commercial_break_scrolled_away",COMMERCIAL_BREAK_SCROLLED_INTO:"commercial_break_scrolled_into",COMMERCIAL_BREAK_START_NFX:"commercial_break_start_nfx",COMMERCIAL_BREAK_HIDE_AD:"commercial_break_hide_ad",COMMERCIAL_BREAK_HIDE_AD_BREAKS:"commercial_break_hide_ad_breaks",COMMERCIAL_BREAK_START:"commercial_break_start",COMMERCIAL_BREAK_START_AD:"commercial_break_start_ad",COMMERCIAL_BREAK_TRANSIT:"commercial_break_transit",COMMERCIAL_BREAK_WAIT_FOR:"commercial_break_wait_for",COMMERCIAL_BREAK_STATIC_COUNTDOWN:"commercial_break_static_countdown",COMMERCIAL_BREAK_END:"commercial_break_end",COMMERCIAL_BREAK_PAUSE_AD:"commercial_break_pause_ad",COMMERCIAL_BREAK_PLAY_AD:"commercial_break_play_ad",COMMERCIAL_BREAK_NO_AD_TRANSITION:"commercial_break_no_ad_transition",COMMERCIAL_BREAK_ELIGIBLE_VOD_START:"commercial_break_eligible_vod_start",COMMERCIAL_BREAK_START_SHOW_NOTHING:"commercial_break_start_show_nothing",COMMERCIAL_BREAK_STARTING_INDICATOR:"commercial_break_starting_indicator",COMMERCIAL_BREAK_START_TIME_DELTA:"commercial_break_start_time_delta",COMMERCIAL_BREAK_IMPRESSION_ATTEMPT:"commercial_break_impression_attempt",COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT:"commercial_break_skywalker_received_duplicate_event",COMMERCIAL_BREAK_ADS_LOADED:"commercial_break_ads_loaded",COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER:"commercial_break_fire_event_in_tracker",COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER:"commercial_break_log_impression_in_tracker",COMMERCIAL_BREAK_REGISTER_VIDEO:"commercial_break_register_video",COMMERCIAL_BREAK_RESUME_HOST_VIDEO:"commercial_break_resume_host_video",COMMERCIAL_BREAK_CLICK_ON_STARTING_INDICATOR:"commercial_break_click_on_starting_indicator",COMMERCIAL_BREAK_PLUGIN_IS_ON_DIFFERENT_HOSTVIDEO:"commercial_break_plugin_is_on_different_hostvideo",COMMERCIAL_BREAK_LOG_AD_IMPRESSION:"commercial_break_log_ad_impression",COMMERCIAL_BREAK_CLICK:"commercial_break_click",COMMERCIAL_BREAK_SCRUB_THROUGH:"commercial_break_scrub_through",COMMERCIAL_BREAK_SCRUBBER_LEAVE_BEFORE_AD_BREAK:"commercial_break_scrubber_leave_before_ad_break",COMMERCIAL_BREAK_SCRUBBER_LEAVE_DURING_AD_BREAK:"commercial_break_scrubber_leave_during_ad_break",COMMERCIAL_BREAK_CONTEXT_CARD_INFO_BUTTON_CLICK:"commercial_break_context_card_info_button_click"})}),null);
__d("FullViewType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ENTIRE_UNIT:1})}),null);
__d("CacheStorage",["ErrorUtils","EventListener","ExecutionEnvironment","FBJSON","WebStorage"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j,k,l={memory:s,localstorage:q,sessionstorage:r},m="_@_",n="3b",o="CacheStorageVersion";function p(u){"use strict";this._store=u}p.prototype.getStore=function(){"use strict";return this._store};p.prototype.keys=function(){"use strict";var u=[];for(var v=0;v<this._store.length;v++)u.push(this._store.key(v));return u};p.prototype.get=function(u){"use strict";return this._store.getItem(u)};p.prototype.set=function(u,v){"use strict";this._store.setItem(u,v)};p.prototype.remove=function(u){"use strict";this._store.removeItem(u)};p.prototype.clear=function(){"use strict";this._store.clear()};h=babelHelpers.inherits(q,p);i=h&&h.prototype;function q(){"use strict";i.constructor.call(this,c("WebStorage").getLocalStorage())}q.available=function(){"use strict";return!!c("WebStorage").getLocalStorage()};j=babelHelpers.inherits(r,p);k=j&&j.prototype;function r(){"use strict";k.constructor.call(this,c("WebStorage").getSessionStorage())}r.available=function(){"use strict";return!!c("WebStorage").getSessionStorage()};function s(){"use strict";this._store={}}s.prototype.getStore=function(){"use strict";return this._store};s.prototype.keys=function(){"use strict";return Object.keys(this._store)};s.prototype.get=function(u){"use strict";if(this._store[u]===undefined)return null;return this._store[u]};s.prototype.set=function(u,v){"use strict";this._store[u]=v};s.prototype.remove=function(u){"use strict";if(u in this._store)delete this._store[u]};s.prototype.clear=function(){"use strict";this._store={}};s.available=function(){"use strict";return true};function t(u,v){"use strict";__p&&__p();this._key_prefix=v||"_cs_";if(u=="AUTO"||!u)for(var w in l){var x=l[w];if(x.available()){u=w;break}}if(u)if(!l[u]||!l[u].available()){c("ExecutionEnvironment").canUseDOM;this._backend=new s()}else this._backend=new l[u]();var y=this.useBrowserStorage();if(y)c("EventListener").listen(window,"storage",this._onBrowserValueChanged.bind(this));var z=y?this._backend.getStore().getItem(o):this._backend.getStore()[o];if(z!==n)this.clear()}t.prototype.useBrowserStorage=function(){"use strict";return this._backend.getStore()===c("WebStorage").getLocalStorage()||this._backend.getStore()===c("WebStorage").getSessionStorage()};t.prototype.addValueChangeCallback=function(u){"use strict";this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(u);return{remove:function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(u),1)}.bind(this)}};t.prototype._onBrowserValueChanged=function(u){"use strict";if(this._changeCallbacks&&String(u.key).startsWith(this._key_prefix))this._changeCallbacks.forEach(function(v){v(u.key,u.oldValue,u.newValue)})};t.prototype.keys=function(){"use strict";__p&&__p();var u=[];c("ErrorUtils").guard(function(){if(this._backend){var v=this._backend.keys(),w=this._key_prefix.length;for(var x=0;x<v.length;x++)if(v[x].substr(0,w)==this._key_prefix)u.push(v[x].substr(w))}}.bind(this),"CacheStorage")();return u};t.prototype.set=function(u,v,w){"use strict";__p&&__p();if(this._backend){var x;if(typeof v=="string")x=m+v;else if(!w){x={__t:Date.now(),__v:v};x=c("FBJSON").stringify(x)}else x=c("FBJSON").stringify(v);var y=this._backend,z=this._key_prefix+u,A=true;while(A)try{y.set(z,x);A=false}catch(B){var C=y.keys().length;this._evictCacheEntries();A=y.keys().length<C}}};t.prototype._evictCacheEntries=function(){"use strict";__p&&__p();var u=[],v=this._backend;v.keys().forEach(function(x){__p&&__p();if(x===o)return;var y=v.get(x);if(y===undefined){v.remove(x);return}if(t._hasMagicPrefix(y))return;try{y=c("FBJSON").parse(y,f.id)}catch(z){v.remove(x);return}if(y&&y.__t!==undefined&&y.__v!==undefined)u.push([x,y.__t])});u.sort(function(x,y){return x[1]-y[1]});for(var w=0;w<Math.ceil(u.length/2);w++)v.remove(u[w][0])};t.prototype.get=function(u,v){"use strict";__p&&__p();var w;if(this._backend){c("ErrorUtils").applyWithGuard(function(){w=this._backend.get(this._key_prefix+u)},this,null,function(){w=null},"CacheStorage:get");if(w!==null)if(t._hasMagicPrefix(w))w=w.substr(m.length);else try{w=c("FBJSON").parse(w,f.id);if(w&&w.__t!==undefined&&w.__v!==undefined)w=w.__v}catch(x){w=undefined}else w=undefined}if(w===undefined&&v!==undefined){w=v;this.set(u,w)}return w};t.prototype.remove=function(u){"use strict";if(this._backend)c("ErrorUtils").applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+u],null,"CacheStorage:remove")};t.prototype.clear=function(){"use strict";if(this._backend){c("ErrorUtils").applyWithGuard(this._backend.clear,this._backend,null,null,null,"CacheStorage:clear");if(this.useBrowserStorage())this._backend.getStore().setItem(o,n);else this._backend.getStore()[o]=n}};t.getAllStorageTypes=function(){"use strict";return Object.keys(l)};t._hasMagicPrefix=function(u){"use strict";return u.substr(0,m.length)===m};f.exports=t}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h="client_event",i="navigation",j=18e4,k="marauder",l="marauder_last_event_time",m="marauder_last_session_id",n={},o=[],p=false,q=null,r=null,s=null,t=0,u,v,w=false,x=null,y=false;function z(){I().set(l,A())}c("Banzai").subscribe(c("Banzai").SHUTDOWN,z);function A(){u=u||I().get(l)||0;return u}function B(){__p&&__p();if(!w){v=I().get(m);w=true}var R=Date.now();if(!v||R-j>A()){v=R.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16);I().set(m,v)}return v}function C(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function D(){return{locale:navigator.language}}function E(R,f,S,T,U,V,W){var X=W||Date.now();u=W?Date.now():X;f=f||q;return{name:R,time:X/1e3,module:f,obj_type:T,obj_id:U,uuid:V,extra:S}}function F(R,S,T){return E("content",null,{flags:S},null,null,R,T)}function G(R){__p&&__p();var S=window.__mrdr;if(S)for(var T in S){var U=S[T];if(U[3]!==0){delete S[T];if(T==="1")if(s!==null)T=s;else continue;R.push(F(T,1,U[1]));R.push(F(T,2,U[2]));R.push(F(T,3,U[3]))}}}function H(R){__p&&__p();G(R);if(R.length===0)return;if(p)R.push(E("counters",null,n));var S=R[0].name==="time_spent_bit_array"&&c("Banzai").isEnabled("vital_navigations"),T=S?c("Banzai").VITAL:c("Banzai").BASIC,U=c("MarauderConfig").gk_enabled;if(t===0&&U){R.push(E("device_status",null,D()));if(!S)T={delay:5e3}}if(U&&Math.random()<.01)R.push(E("device_info",null,C()));if(s!==null)for(var V=0;V<R.length;V++){var W=R[V];if(W.uuid===null||W.uuid===undefined)W.uuid=s}var X={app_ver:c("MarauderConfig").app_version,data:R,log_type:h,seq:t++,session_id:B()},Y=I().get("device_id");if(Y)X.device_id=Y;n={};p=false;c("Banzai").post(k,X,T)}function I(){if(!y){y=true;x=new(c("CacheStorage"))("localstorage","")}return x}function J(R){if(!n[R])n[R]=0;n[R]++;p=true}function K(R,f,S,T,U,V,W){H([E(R,f,S,T,U,V,W)])}function L(R,S){if(q!==S){o.push(E(i,q,{dest_module:S,source_url:r,destination_url:R}));q=S;r=R}}function M(R,S){if(q!==S){s=null;L(R,S)}}function N(f,R,S){K(R?"show_module":"hide_module",f,S)}function O(f){q=f}function P(){return q}function Q(R){if(s===null){s=R;if(R!==null){H(o);o=[]}}}f.exports={count:J,log:K,navigateTo:M,navigateWithinSession:L,toggleModule:N,setUUID:Q,setNavigationModule:O,getNavigationModule:P}}),null);
__d("PercentVisible",[],(function a(b,c,d,e,f,g){f.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100}}),null);
__d("VisibilityState",[],(function a(b,c,d,e,f,g){"use strict";f.exports={TOP:"TOP",BOTTOM:"BOTTOM",FULL:"FULL",NULL:"NULL"}}),null);
__d("ViewableImpressionTracker",["csx","AdImpressionLoggingConfig","Banzai","BrowseClientEventLogger","CommercialBreakMobileEvent","DataAttributeUtils","DOM","FullViewType","MarauderLogger","NonBlockingIFrame","PercentVisible","Style","URI","ViewableImpressionUtils","Visibility","VisibilityState","WebSpeedJSExperiments","ge","getElementPosition","getViewportDimensions","mixInEventEmitter"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k,l){"use strict";__p&&__p();this.id=j;this.element=k;this.config=l;this.iframe=null;this.viewableTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=false;this.waitForLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.iframeLogged=false;this.banzaiLogged=false;this.topLeftInViewport=false;this.bottomRightInViewport=false}i.prototype.getID=function(){"use strict";return this.id};i.prototype.getConfig=function(){"use strict";return this.config};i.prototype.getPercentInViewport=function(){"use strict";var j=c("getViewportDimensions")(),k=c("getElementPosition")(this.element);return this.$ViewableImpressionTracker1(j,k)};i.prototype.$ViewableImpressionTracker2=function(j,k){__p&&__p();var l=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";if(k.x<j.width&&k.x+k.width>0&&k.y<j.height&&k.y+k.height>l&&c("Style").get(this.element,"visibility")!=="hidden"&&c("Style").get(this.element,"opacity")!=="0"){var m=Math.max(k.x,0),n=Math.min(k.x+k.width,j.width),o=Math.max(k.y,l),p=Math.min(k.y+k.height,j.height);if(k.height*k.width===0)return 100;var q=100*(n-m)*(p-o)/(k.height*k.width);return q}return 0};i.prototype.$ViewableImpressionTracker1=function(j,k){"use strict";if(this.config.require_horizontally_onscreen&&c("ViewableImpressionUtils").isHorizontallyOffscreen(this.element,k,j))return 0;return this.$ViewableImpressionTracker2(j,k)};i.prototype.$ViewableImpressionTracker3=function(j,k,l){"use strict";var m=this.$ViewableImpressionTracker2(j,k,l);if(m===0)return c("PercentVisible").NO_VISIBLE;else if(m<50)return c("PercentVisible").VISIBLE_0_PCT;else if(m<100)return c("PercentVisible").VISIBLE_50_PCT;else return c("PercentVisible").VISIBLE_100_PCT};i.prototype.$ViewableImpressionTracker4=function(j,k){var l=arguments.length<=2||arguments[2]===undefined?0:arguments[2];"use strict";var m=Math.max(k.y,l),n=Math.min(k.y+k.height,j.height),o=100*(n-m)/(j.height-l);if(o<50)return c("PercentVisible").VISIBLE_0_PCT;else if(o<100)return c("PercentVisible").VISIBLE_50_PCT;else return c("PercentVisible").VISIBLE_100_PCT};i.prototype.$ViewableImpressionTracker5=function(j,k){"use strict";__p&&__p();var l=0,m=c("ge")("pagelet_bluebar");if(m&&m.offsetHeight)l=m.offsetHeight+m.offsetTop;if(this.config.should_log_viewport_duration){var n=this.$ViewableImpressionTracker4(j,k,l);switch(n){case c("PercentVisible").VISIBLE_0_PCT:case c("PercentVisible").VISIBLE_50_PCT:case c("PercentVisible").VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:n});break;default:break}}var o=this.$ViewableImpressionTracker3(j,k,l);switch(o){case c("PercentVisible").VISIBLE_0_PCT:case c("PercentVisible").VISIBLE_50_PCT:case c("PercentVisible").VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:o});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}};i.prototype.$ViewableImpressionTracker6=function(j,k){"use strict";if(c("Style").get(this.element,"visibility")==="hidden"||c("Style").get(this.element,"opacity")==="0")return false;var l=k.x,m=k.y,n=k.x+k.width,o=k.y+k.height;this.topLeftInViewport=this.topLeftInViewport||l>=0&&l<=j.width&&m>=0&&m<=j.height;this.bottomRightInViewport=this.bottomRightInViewport||n>=0&&n<=j.width&&o>=0&&o<=j.height;return this.topLeftInViewport&&this.bottomRightInViewport};i.prototype.$ViewableImpressionTracker7=function(j,k){"use strict";if(this.hasEmittedFullViewEvent)return;if(this.$ViewableImpressionTracker6(j,k)){this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:c("FullViewType").ENTIRE_UNIT});this.hasEmittedFullViewEvent=true}};i.prototype.$ViewableImpressionTracker8=function(j,k){"use strict";__p&&__p();var l=k.y,m=k.y+k.height,n=l>=0&&l<=j.height,o=m>=0&&m<=j.height,p=void 0;if(n&&o)p=c("VisibilityState").FULL;else if(n)p=c("VisibilityState").TOP;else if(o)p=c("VisibilityState").BOTTOM;else p=c("VisibilityState").NULL;this.emit("viewability_debug",{tracker:this,id:this.getID(),token:this.getToken(),visibleState:p})};i.prototype.onVisible=function(event){"use strict";__p&&__p();this.isVisible=true;var j=c("getViewportDimensions")(),k=c("getElementPosition")(this.element),l=this.$ViewableImpressionTracker1(j,k),m=l>this.config.pixel_in_percentage;this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:l});if(this.config.should_log_viewability_duration)this.$ViewableImpressionTracker5(j,k);if(this.config.should_log_debug_duration)this.$ViewableImpressionTracker8(j,k);this.$ViewableImpressionTracker7(j,k);if(!m){this.$ViewableImpressionTracker9();return}if(this.isLogged())this.$ViewableImpressionTracker10();else this.$ViewableImpressionTracker11();if(!this.waitForLogged&&!this.isLogged()&&!(c("AdImpressionLoggingConfig").blockInvisible&&c("Visibility").isHidden())){this.waitForLogged=true;this.viewableTimeout=setTimeout(function(){__p&&__p();this.waitForLogged=false;if(c("AdImpressionLoggingConfig").blockInvisible&&c("Visibility").isHidden())return;var l=this.getPercentInViewport(),m=l>this.config.pixel_in_percentage;if(!m){this.$ViewableImpressionTracker12();return}this.logImpression(1,{});this.$ViewableImpressionTracker10()}.bind(this),this.config.duration_in_ms)}};i.prototype.onHidden=function(){"use strict";__p&&__p();this.emit("hidden",{id:this.getID(),token:this.getToken()});if(this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged)this.logNonViewableImpression();else if(!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible)this.logNonViewableImpression();this.isVisible=false;if(this.waitForLogged){this.waitForLogged=false;clearTimeout(this.viewableTimeout)}if(this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0){this.waitForSubsequent=true;this.clearSubsequentTimeout=setTimeout(function(){this.waitForSubsequent=false;this.reset();if(this.isVisible)this.onVisible()}.bind(this),this.config.subsequent_gap_in_ms)}this.$ViewableImpressionTracker12()};i.prototype.onRemoved=function(){"use strict";this.isVisible=false};i.prototype.getToken=function(){"use strict";return c("DataAttributeUtils").getDataAttribute(this.element,"data-xt")};i.prototype.logImpression=function(j,k){"use strict";__p&&__p();if(this.isLogged())return;var l=this.getToken(),m=Math.floor(Date.now()/1e3),n=this.$ViewableImpressionTracker13(),o={xt:l,isv:j,cts:m,csp:n};if(c("Banzai").isEnabled("xtrackable_clientview_batch")&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){var p=this.config.vital_mode_for_ss?c("Banzai").VITAL:{};p.signal=this.config.signal_mode_for_ss;this.logWithBanzai(o,p)}else this.logWithIFrame(Object.assign(o,k))};i.prototype.logNonViewableImpression=function(){"use strict";if(this.config.nonviewableEnabled){var j=this.getToken();c("Banzai").post("xtrackable:nonviewable",{xt:j})}this.isNonViewableLogged=true};i.prototype.isLogged=function(){"use strict";return this.iframeLogged||this.banzaiLogged};i.prototype.reset=function(){"use strict";__p&&__p();if(this.iframeLogged)this.iframeLogged=false;if(this.iframe){c("DOM").remove(this.iframe);this.iframe=null}if(this.banzaiLogged)this.banzaiLogged=false;this.isNonViewableLogged=false;this.isVisible=false;this.waitForLogged=false;this.waitForSubsequent=false};i.prototype.logWithBanzai=function(j,k){"use strict";this.banzaiLogged=true;c("BrowseClientEventLogger").maybeLogClientViewEvent(j);c("Banzai").post("xtrackable:clientview_batch",j,k)};i.prototype.logWithIFrame=function(j){"use strict";this.iframeLogged=true;if(c("WebSpeedJSExperiments").non_blocking_tracker||this.config.is_instream_story)c("NonBlockingIFrame").loadIFrame(new(c("URI"))(this.config.impressionURL).addQueryData(j).toString());else{this.iframe=c("DOM").create("iframe",{src:new(c("URI"))(this.config.impressionURL).addQueryData(j),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});this.iframe.setAttribute("aria-hidden","true");c("DOM").appendContent(this.element,this.iframe)}};i.prototype.$ViewableImpressionTracker13=function(){"use strict";__p&&__p();var j=c("DataAttributeUtils").getDataAttribute(this.element,"data-dedupekey");if(j===null)return null;var k=this.$ViewableImpressionTracker14();if(k===null||k.length===0)return null;var l=k.length;while(--l>=0){var m=c("DataAttributeUtils").getDataAttribute(k[l],"data-dedupekey");if(m!==null&&j===m)break}return l+1};i.prototype.$ViewableImpressionTracker14=function(){"use strict";__p&&__p();var j=c("ge")("contentArea");if(j){var k="._5jmm",l=c("DOM").scry(j,k);return l.filter(function(n){return c("DataAttributeUtils").getDataAttribute(n,"data-dedupekey")})}else{var m=c("ge")("m_newsfeed_stream");return m===null?null:m.getElementsByTagName("article")}};i.prototype.$ViewableImpressionTracker15=function(){"use strict";return 0};i.prototype.$ViewableImpressionTracker9=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color","#abab9a");c("Style").set(this.element,"outline","3px solid #abab9a")}};i.prototype.$ViewableImpressionTracker11=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color","#e4f70a");c("Style").set(this.element,"outline","3px solid #e4f70a")}};i.prototype.$ViewableImpressionTracker12=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color",null);c("Style").set(this.element,"outline",null)}};i.prototype.$ViewableImpressionTracker10=function(){"use strict";if(this.$ViewableImpressionTracker15()){c("Style").set(this.element,"background-color","#047515");c("Style").set(this.element,"outline","3px solid #047515")}};c("mixInEventEmitter")(i,{visible:true,hidden:true,full_view:true,viewability:true,viewport_viewability:true,viewability_debug:true});f.exports=i}),null);
__d("ViewabilityDebugLogger",["Banzai","Map","ViewableImpressionTracker","VisibilityState","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({top_enter_viewport:null,top_exit_viewport:null,bottom_enter_viewport:null,bottom_exit_viewport:null});i.logFromViewableImpressionTracker=function(j){var k=new i();k.subscribeToTrackerEvents(j)};function i(){this.$ViewabilityDebugLogger1=new(c("Map"))();this.$ViewabilityDebugLogger2=new(c("Map"))();this.$ViewabilityDebugLogger3=new(c("Map"))()}i.prototype.subscribeToTrackerEvents=function(j){j.addListener("viewability_debug",this.onView.bind(this));j.addListener("hidden",this.onHidden.bind(this))};i.prototype.onView=function(event){__p&&__p();var j=event.id,k=event.visibleState,l=Date.now(),m=this.$ViewabilityDebugLogger1.get(j),n=this.$ViewabilityDebugLogger2.get(j);switch(k){case c("VisibilityState").TOP:if(!this.$ViewabilityDebugLogger1.has(j))this.$ViewabilityDebugLogger4(event,l,c("VisibilityState").TOP);if(n){var o={token:n.token,start_ts:n.start_ts,event_type:h.bottom_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(o,j,c("VisibilityState").BOTTOM)}break;case c("VisibilityState").FULL:if(!this.$ViewabilityDebugLogger3.has(j))this.$ViewabilityDebugLogger4(event,l,c("VisibilityState").FULL);break;case c("VisibilityState").BOTTOM:if(!this.$ViewabilityDebugLogger2.has(j))this.$ViewabilityDebugLogger4(event,l,c("VisibilityState").BOTTOM);if(m){var p={token:m.token,start_ts:m.start_ts,event_type:h.top_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(p,j,c("VisibilityState").TOP)}break;case c("VisibilityState").NULL:if(m){var q={token:m.token,start_ts:m.start_ts,event_type:h.top_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(q,j,c("VisibilityState").TOP)}if(n){var r={token:n.token,start_ts:n.start_ts,event_type:h.bottom_exit_viewport,event_time:l};this.$ViewabilityDebugLogger5(r,j,c("VisibilityState").BOTTOM)}}};i.prototype.onHidden=function(event){var j=event.id,k=Date.now(),l=this.$ViewabilityDebugLogger1.get(j),m=this.$ViewabilityDebugLogger2.get(j);if(l){var n={token:l.token,start_ts:l.start_ts,event_type:h.top_exit_viewport,event_time:k};this.$ViewabilityDebugLogger5(n,j,c("VisibilityState").TOP)}if(m){var o={token:m.token,start_ts:m.start_ts,event_type:h.bottom_exit_viewport,event_time:k};this.$ViewabilityDebugLogger5(o,j,c("VisibilityState").BOTTOM)}};i.prototype.$ViewabilityDebugLogger4=function(event,j,k){__p&&__p();var l={token:event.token,start_ts:j,event_time:j};switch(k){case c("VisibilityState").TOP:l.event_type=h.top_enter_viewport;this.$ViewabilityDebugLogger1.set(event.id,l);this.$ViewabilityDebugLogger6(l);break;case c("VisibilityState").BOTTOM:l.event_type=h.bottom_enter_viewport;this.$ViewabilityDebugLogger2.set(event.id,l);this.$ViewabilityDebugLogger6(l);break;case c("VisibilityState").FULL:this.$ViewabilityDebugLogger3.set(event.id,l);if(!this.$ViewabilityDebugLogger1.has(event.id)){var m={token:l.token,start_ts:j,event_time:j,event_type:h.top_enter_viewport};this.$ViewabilityDebugLogger1.set(event.id,m);this.$ViewabilityDebugLogger6(m)}if(!this.$ViewabilityDebugLogger2.has(event.id)){var n={token:l.token,start_ts:j,event_time:j,event_type:h.bottom_enter_viewport};this.$ViewabilityDebugLogger2.set(event.id,n);this.$ViewabilityDebugLogger6(n)}break}};i.prototype.$ViewabilityDebugLogger6=function(j){c("Banzai").post("xtrackable:viewability_debug",j)};i.prototype.$ViewabilityDebugLogger5=function(j,k,l){c("Banzai").post("xtrackable:viewability_debug",j);switch(l){case c("VisibilityState").BOTTOM:this.$ViewabilityDebugLogger2["delete"](k);break;case c("VisibilityState").TOP:this.$ViewabilityDebugLogger1["delete"](k);break}this.$ViewabilityDebugLogger3["delete"](k)};f.exports=i}),null);
__d("VisibilityUnitType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_UNIT:"feed_unit",VIEWPORT:"viewport"})}),null);
__d("ViewabilityDurationSegmentLogger",["Banzai","Map","PercentVisible","ViewableImpressionTracker","VisibilityUnitType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=8e3;i.logFromViewableImpressionTracker=function(j){var k=new i();k.subscribeToTrackerEvents(j)};function i(){this.$ViewabilityDurationSegmentLogger1=new(c("Map"))();this.$ViewabilityDurationSegmentLogger2=new(c("Map"))();this.$ViewabilityDurationSegmentLogger3=new(c("Map"))();this.$ViewabilityDurationSegmentLogger4=new(c("Map"))();this.$ViewabilityDurationSegmentLogger5=new(c("Map"))()}i.prototype.subscribeToTrackerEvents=function(j){j.addListener("viewability",this.onViewable.bind(this));j.addListener("viewport_viewability",this.onViewport.bind(this));j.addListener("hidden",this.onHidden.bind(this))};i.prototype.onViewable=function(event){__p&&__p();var j=event.id,k=event.percentVisible,l=Date.now(),m=void 0,n=void 0;switch(k){case c("PercentVisible").VISIBLE_0_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_0_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}m=this.$ViewabilityDurationSegmentLogger4.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_50_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_0_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger4.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_100_PCT:m=this.$ViewabilityDurationSegmentLogger1.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_0_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger2.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger4.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_100_PCT,l,c("VisibilityUnitType").FEED_UNIT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);break}};i.prototype.onViewport=function(event){__p&&__p();var j=event.id,k=event.percentVisible,l=Date.now(),m=void 0,n=void 0;switch(k){case c("PercentVisible").VISIBLE_0_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}m=this.$ViewabilityDurationSegmentLogger5.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_50_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").VIEWPORT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger5.get(j);if(m){n=this.$ViewabilityDurationSegmentLogger8(m,j,l,true);this.$ViewabilityDurationSegmentLogger9(n,j)}break;case c("PercentVisible").VISIBLE_100_PCT:m=this.$ViewabilityDurationSegmentLogger3.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_50_PCT,l,c("VisibilityUnitType").VIEWPORT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);m=this.$ViewabilityDurationSegmentLogger5.get(j);if(!m)this.$ViewabilityDurationSegmentLogger6(event,c("PercentVisible").VISIBLE_100_PCT,l,c("VisibilityUnitType").VIEWPORT);else this.$ViewabilityDurationSegmentLogger7(m,j,l);break}};i.prototype.onHidden=function(event){__p&&__p();var j=event.id,k=Date.now(),l=this.$ViewabilityDurationSegmentLogger1.get(j),m=this.$ViewabilityDurationSegmentLogger2.get(j),n=this.$ViewabilityDurationSegmentLogger3.get(j),o=this.$ViewabilityDurationSegmentLogger4.get(j),p=this.$ViewabilityDurationSegmentLogger5.get(j);if(l)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(l,j,k,true),j);if(m)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(m,j,k,true),j);if(n)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(n,j,k,true),j);if(o)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(o,j,k,true),j);if(p)this.$ViewabilityDurationSegmentLogger9(this.$ViewabilityDurationSegmentLogger8(p,j,k,true),j)};i.prototype.$ViewabilityDurationSegmentLogger6=function(event,j,k,l){__p&&__p();var m={token:event.token,startedTrackingTS:k,percentVisible:j,visibilityUnit:l,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(j){case c("PercentVisible").VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1.set(event.id,m);break;case c("PercentVisible").VISIBLE_50_PCT:if(l===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger2.set(event.id,m);else this.$ViewabilityDurationSegmentLogger3.set(event.id,m);break;case c("PercentVisible").VISIBLE_100_PCT:if(l===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger4.set(event.id,m);else this.$ViewabilityDurationSegmentLogger5.set(event.id,m);break}};i.prototype.$ViewabilityDurationSegmentLogger8=function(j,k,l,m){__p&&__p();var n=l-j.startedTrackingTS,o=n-j.cumulativeMs,p=j.percentVisible,q={token:j.token,startedTrackingTS:j.startedTrackingTS,percentVisible:p,visibilityUnit:j.visibilityUnit,intervalMs:o,cumulativeMs:n,segmentIdx:++j.segmentIdx};if(m)q.duration=n;switch(p){case c("PercentVisible").VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1.set(k,q);break;case c("PercentVisible").VISIBLE_50_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger2.set(k,q);else this.$ViewabilityDurationSegmentLogger3.set(k,q);break;case c("PercentVisible").VISIBLE_100_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger4.set(k,q);else this.$ViewabilityDurationSegmentLogger5.set(k,q);break}return q};i.prototype.$ViewabilityDurationSegmentLogger7=function(j,k,l){var m=j.intervalMs,n=l-j.startedTrackingTS-j.cumulativeMs;if(this.$ViewabilityDurationSegmentLogger10(m,n)){var o=this.$ViewabilityDurationSegmentLogger8(j,k,l,false);c("Banzai").post("xtrackable:viewability",o,c("Banzai").VITAL)}};i.prototype.$ViewabilityDurationSegmentLogger10=function(j,k){__p&&__p();if(j>=h)return false;if(j==0)return true;if(j<1e3)return k>=1e3;var l=0;l=j/1e3;var m=k/1e3;return m>=2*l};i.prototype.$ViewabilityDurationSegmentLogger9=function(j,k){__p&&__p();var l=j.percentVisible;switch(l){case c("PercentVisible").VISIBLE_0_PCT:this.$ViewabilityDurationSegmentLogger1["delete"](k);break;case c("PercentVisible").VISIBLE_50_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger2["delete"](k);else this.$ViewabilityDurationSegmentLogger3["delete"](k);break;case c("PercentVisible").VISIBLE_100_PCT:if(j.visibilityUnit===c("VisibilityUnitType").FEED_UNIT)this.$ViewabilityDurationSegmentLogger4["delete"](k);else this.$ViewabilityDurationSegmentLogger5["delete"](k);break}c("Banzai").post("xtrackable:viewability",j,c("Banzai").VITAL)};f.exports=i}),null);
__d("ViewableImpressionDurationLogger",["Banzai","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();h.logFromViewableImpressionTracker=function(i){var j=new h();j.subscribeToTrackerEvents(i)};function h(){this.$ViewableImpressionDurationLogger1=new(c("Map"))()}h.prototype.subscribeToTrackerEvents=function(i){i.addListener("visible",this.onElementVisible.bind(this));i.addListener("hidden",this.onElementHidden.bind(this))};h.prototype.onElementVisible=function(event){if(this.$ViewableImpressionDurationLogger1.get(event.id))return null;var i={token:event.token,startedTrackingTS:this.getTimeNow()};this.$ViewableImpressionDurationLogger1.set(event.id,i);return i};h.prototype.onElementHidden=function(event){var i=this.$ViewableImpressionDurationLogger1.get(event.id);if(!i)return false;i.trackingDuration=this.getTimeNow()-i.startedTrackingTS;return this.sendLog(event.id)};h.prototype.sendLog=function(i){var j=this.$ViewableImpressionDurationLogger1.get(i);if(!j||!j.trackingDuration)return false;c("Banzai").post("xtrackable:duration",j);this.$ViewableImpressionDurationLogger1["delete"](i);return true};h.prototype.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))};f.exports=h}),null);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function a(b,c,d,e,f,g){__p&&__p();h.logFromViewableImpressionTracker=function(i,j){"use strict";var k=new h(j);k.subscribeToTrackerEvents(i)};function h(i){"use strict";this.loggingDurationMS=i;this.trackingEntries={}}h.prototype.subscribeToTrackerEvents=function(i){"use strict";this.visibleSubscription=i.addListener("visible",this.onElementVisible,this);this.hiddenSubscription=i.addListener("hidden",this.onElementHidden,this)};h.prototype.onElementVisible=function(i){"use strict";var j=this.getCurrentTimestamp(),k=this.trackingEntries[i.id];if(!k){k=this.createTrackingEntry(i);this.beginTracking(i.id,k);j=k.startedTrackingTS}k.viewportProgressEvents.push({timestamp:j,percentInViewport:i.percentInViewport.toFixed(2)})};h.prototype.onElementHidden=function(i){"use strict";var j=this.getCurrentTimestamp(),k=this.trackingEntries[i.id];if(!k)return;k.viewportProgressEvents.push({timestamp:j,percentInViewport:0})};h.prototype.onTrackingCompleted=function(i){"use strict";var j=this.trackingEntries[i];j.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:j.tracker.getPercentInViewport().toFixed(2)});if(this.$ViewableImpressionHeatmapLogger1())this.$ViewableImpressionHeatmapLogger2(i,j);this.logToServer(j);delete this.trackingEntries[i]};h.prototype.logToServer=function(i){"use strict";var j=i;delete j.tracker;c("Banzai").post("xtrackable:heatmap",j)};h.prototype.beginTracking=function(i,j){"use strict";this.trackingEntries[i]=j;setTimeout(function(){return this.onTrackingCompleted(i)}.bind(this),this.loggingDurationMS)};h.prototype.createTrackingEntry=function(i){"use strict";return{tracker:i.tracker,token:i.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}};h.prototype.getCurrentTimestamp=function(){"use strict";return(Date.now()/1e3).toFixed(2)};h.prototype.$ViewableImpressionHeatmapLogger1=function(){"use strict";return 0};h.prototype.$ViewableImpressionHeatmapLogger2=function(i,j){"use strict";var k="Completed tracking for id "+i+" token="+j.token+" startedTrackingTS="+j.startedTrackingTS+"\n";j.viewportProgressEvents.forEach(function(l){k+="% in view: "+l.percentInViewport+" timestamp="+l.timestamp+"\n"})};f.exports=h}),null);
__d("VisibilityTracking",["Banzai","BrowseClientEventLogger","DataAttributeUtils","ErrorUtils","ScriptPath","SubscriptionsHandler","Visibility","VisibilityTrackingHelper","collectDataAttributes","getElementPosition","pageID","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h="visibility_tracking",i="[data-vistracking]",j=500,k=50,l=50,m=50,n=50,o=0;function p(q){"use strict";__p&&__p();q=q||{};if(!q.bypass_banzai_check&&!c("Banzai").isEnabled(h))return;this.visibleElementInfo={};this.getDataFromConfig(q);c("Visibility").addListener(c("Visibility").VISIBLE,c("ErrorUtils").guard(function(){return this.fireEvent("browser")}.bind(this),"VisibilityTracking:visible",this));c("Visibility").addListener(c("Visibility").HIDDEN,c("ErrorUtils").guard(function(){return this.clearAllVisibleElements("browser")}.bind(this),"VisibilityTracking:hidden",this));c("ScriptPath").subscribe(c("ErrorUtils").guard(function(){return this.updateVisibleElements()}.bind(this),"VisibilityTracking:scriptPath",this));c("Banzai").subscribe(c("Banzai").SHUTDOWN,c("ErrorUtils").guard(function(){return this.onUnload()}.bind(this),"VisibilityTracking:banzaiShutdown",this));this.fireEventCallback=c("throttle").acrossTransitions(c("ErrorUtils").guard(function(event){return this.fireEvent(event)}.bind(this),"VisibilityTracking:fireEventCallback",this),this.timeout,this);this.listeners=new(c("SubscriptionsHandler"))();c("VisibilityTrackingHelper").getEventListeners(function(){return this.fireEventCallback()}.bind(this)).forEach(function(r){this.listeners.addSubscriptions(r)},this);if(this.extraInit)c("ErrorUtils").applyWithGuard(this.extraInit.bind(this))}p.prototype.getDataFromConfig=function(q){"use strict";__p&&__p();this.config=q;this.root=q.root||document.documentElement;this.selector=q.selector||i;this.timeout=q.timeout!==undefined?q.timeout:j;this.minOffsetVisibleFromBottom=q.minOffsetVisibleFromBottom!==undefined?q.minOffsetVisibleFromBottom:k;this.minOffsetVisibleFromTop=q.minOffsetVisibleFromTop!==undefined?q.minOffsetVisibleFromTop:l;this.minOffsetVisibleFromLeft=q.minOffsetVisibleFromLeft!==undefined?q.minOffsetVisibleFromLeft:m;this.minOffsetVisibleFromRight=q.minOffsetVisibleFromRight!==undefined?q.minOffsetVisibleFromRight:n;this.handleAllHiddenEvents=q.handleAllHiddenEvents!==undefined?q.handleAllHiddenEvents:false;this.handleAllVisibleEvents=q.handleAllVisibleEvents!==undefined?q.handleAllVisibleEvents:false;this.cacheTrackedElements=q.cacheTrackedElements!==undefined?q.cacheTrackedElements:false};p.prototype.getAllTrackedElements=function(){"use strict";__p&&__p();if(!this.allTrackedElements){this.allTrackedElements={};var q=[];if(this.config.is_xtrackable)q=c("DataAttributeUtils").getXTrackableElements();else if(this.root&&this.root.querySelectorAll)q=this.root.querySelectorAll(this.selector);for(var r=0;r<q.length;r++){var s=this.getElementID(q[r]);this.allTrackedElements[s.toString()]=q[r]}}return this.allTrackedElements};p.prototype.refreshAllTrackedElements=function(){"use strict";delete this.allTrackedElements;return this.getAllTrackedElements()};p.prototype.getDataToLog=function(q){"use strict";var r=Object.assign(c("collectDataAttributes")(q,["gt"]).gt,{client_time:Date.now()/1e3,time_spent_id:c("pageID"),script_path:c("ScriptPath").getScriptPath()});return r};p.prototype.getElementID=function(q){"use strict";var r=q.$VisibilityTracking1;if(r)return r;q.$VisibilityTracking1=++o;return o};p.prototype.sendDataToLog=function(q){"use strict";c("BrowseClientEventLogger").maybeLogVisiblityEvent(q);c("Banzai").post(h,q)};p.prototype.isInstreamAdStoryElement=function(q){"use strict";return false};p.prototype.fireEvent=function(){__p&&__p();var q=arguments.length<=0||arguments[0]===undefined?"default":arguments[0];"use strict";var r=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var s in r){var t=r[s],u=c("VisibilityTrackingHelper").getViewportInfo(),v=this.isVisible(t,u);if(!v&&(s in this.visibleElementInfo||this.handleAllHiddenEvents))this.handleEvent(t,{name:"hidden",cause:q});else if(v&&(!(s in this.visibleElementInfo)||this.handleAllVisibleEvents))this.handleEvent(t,{name:"visible",cause:q})}this.clearUntrackedVisibleElements()};p.prototype.isVisible=function(q,r){"use strict";if(q==null)return false;var s=c("getElementPosition")(q);return s.y+s.height>=this.minOffsetVisibleFromTop&&s.y<=r.height-this.minOffsetVisibleFromBottom&&s.x+s.width>=this.minOffsetVisibleFromLeft&&s.x<=r.width-this.minOffsetVisibleFromRight};p.prototype.handleEvent=function(q,event){"use strict";__p&&__p();var r=this.getElementID(q).toString(),s=this.getDataToLog(q),t=void 0;if(event.name==="visible"){var u=Math.floor(Date.now()/1e3);t=c("pageID").concat(":",u.toString(),":",this.getElementID(q).toString());this.visibleElementInfo[r]={visibility_id:t,elem:q}}else if(event.name==="hidden"){if(r in this.visibleElementInfo){t=this.visibleElementInfo[r].visibility_id;delete this.visibleElementInfo[r]}if(event.cause==="browser")return}this.sendDataToLog(Object.assign(s,{event:event.name,visibility_id:t}))};p.prototype.clearUntrackedVisibleElements=function(){"use strict";var q=this.getAllTrackedElements();for(var r in this.visibleElementInfo)if(!(r in q)){var s=this.visibleElementInfo[r];if(s.elem)this.handleEvent(s.elem,{name:"hidden",cause:"removed"})}};p.prototype.clearAllVisibleElements=function(){var q=arguments.length<=0||arguments[0]===undefined?"default":arguments[0];"use strict";var r=this.getAllTrackedElements();for(var s in r)if(s in this.visibleElementInfo)this.handleEvent(r[s],{name:"hidden",cause:q});this.clearUntrackedVisibleElements()};p.prototype.updateVisibleElements=function(){"use strict";this.clearAllVisibleElements();this.fireEvent()};p.prototype.refreshAndFireEvent=function(event){"use strict";this.refreshAllTrackedElements();this.fireEventCallback(event)};p.prototype.onUnload=function(){"use strict";this.clearAllVisibleElements();if(this.listeners){this.listeners.release();this.listeners=null}if(this.extraCleanup)c("ErrorUtils").applyWithGuard(this.extraCleanup.bind(this))};p.init=function(q){"use strict";return new p(q)};f.exports=p}),null);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","ViewabilityDebugLogger","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1;h=babelHelpers.inherits(k,c("VisibilityTracking"));i=h&&h.prototype;k.prototype.extraInit=function(){this.impressionTrackers={}};k.prototype.getDataFromConfig=function(l){i.getDataFromConfig.call(this,l);this.doHeatmapLogging=l.doHeatmapLogging;this.heatmapLoggingDurationMS=l.heatmapLoggingDurationMS;l.impressionURL=l.impressionURL!==undefined?l.impressionURL:"/xti.php";l.nonviewableEnabled=l.nonviewableEnabled!==undefined?l.nonviewableEnabled:false};k.prototype.getImpressionTracking=function(l){__p&&__p();var m=this.getElementID(l),n=this.impressionTrackers[m];if(!n){var o=babelHelpers["extends"]({},this.getConfigFromElement(l),this.config);n=new(c("ViewableImpressionTracker"))(m,l,o);this.impressionTrackers[m]=n;if(o.log_impression_duration)c("ViewableImpressionDurationLogger").logFromViewableImpressionTracker(n);if(this.doHeatmapLogging)c("ViewableImpressionHeatmapLogger").logFromViewableImpressionTracker(n,this.heatmapLoggingDurationMS);if(o.should_log_full_views)c("FullViewLogger").logFromViewableImpressionTracker(n);if(o.should_log_viewability_duration)c("ViewabilityDurationSegmentLogger").logFromViewableImpressionTracker(n);if(o.should_log_debug_duration)c("ViewabilityDebugLogger").logFromViewableImpressionTracker(n)}return n};k.prototype.handleEvent=function(l,event){__p&&__p();var m=this.getImpressionTracking(l);if(!m)return;if(event.name==="visible"){m.onVisible(event);if(!this.visibleElementInfo[m.getID()])this.visibleElementInfo[m.getID()]={elem:l}}else if(event.name==="hidden"){var n=m.getConfig();if(event.cause==="default"||n.log_visibility_hidden_when_browser_inactive&&event.cause==="browser"){m.onHidden();delete this.visibleElementInfo[m.getID()]}else if(event.cause==="removed"){m.onRemoved();delete this.visibleElementInfo[m.getID()];delete this.impressionTrackers[m.getID()]}}};k.prototype.isInstreamAdStoryElement=function(l){var m=babelHelpers["extends"]({},this.getConfigFromElement(l),this.config);return!!m.is_instream_story};k.prototype.getConfigFromElement=function(l){return JSON.parse(c("DataAttributeUtils").getDataAttribute(l,"data-xt-vimp"))};k.prototype.getElementID=function(l){if(!l.getAttribute("id"))l.setAttribute("id","xt_uniq_"+j++);return l.getAttribute("id")};function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("ViewableImpressionTracking",["Arbiter","DesktopHscrollUnitEventConstants","ErrorUtils","LitestandMessages","Run","ViewableImpressionEventHandler","ViewableImpressionConfig"],(function a(b,c,d,e,f,g){var h={init:function i(){if(c("ViewableImpressionEventHandler").instance===undefined){c("ViewableImpressionEventHandler").instance=new(c("ViewableImpressionEventHandler"))(c("ViewableImpressionConfig"));c("ViewableImpressionEventHandler").instance.listeners.addSubscriptions(c("Arbiter").subscribe([c("LitestandMessages").STORIES_INSERTED,"AdsRefreshHandler/AdsLoaded","MPPInsights/ChartView","PhotoSnowliftAds/displayUnits","WebMessengerAdsControl/adjustAds",c("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_INSERTED_EVENT,"WebVideoChannelAds/AdsLoaded"],c("ErrorUtils").guard(function(event){c("ViewableImpressionEventHandler").instance.refreshAndFireEvent(event)},"ViewableImpressionTracking")))}c("Run").onLoad(function(){c("ViewableImpressionEventHandler").instance.refreshAndFireEvent()})}};f.exports=h}),null);
__d("AsyncFormRequestUtils",["Arbiter"],(function a(b,c,d,e,f,g){var h={subscribe:function i(j,k,l){c("Arbiter").subscribe("AsyncRequest/"+k,function(m,n){var o=n.request.relativeTo;if(o&&o===j)l(n)})}};f.exports=h}),null);
__d("PluginTabLoadMore",["CSS","Event"],(function a(b,c,d,e,f,g){"use strict";var h={noMoreContent:function i(){c("Event").fire(this.root,"noMoreContent");c("CSS").hide(this.spinner)},setCursor:function i(j){c("Event").fire(this.root,"setCursor",j)},init:function i(j,k){this.root=j;this.spinner=k}};f.exports=h}),null);
__d("EmbeddedPostPluginActionTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CLICK:"click"})}),null);
__d("EmbeddedPostPluginActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EMBEDDED_POSTS_COMMENT:"embedded_post_comment",EMBEDDED_POSTS_LIKE:"embedded_post_like",EMBEDDED_POSTS_SHARE:"embedded_post_share",EMBEDDED_POSTS_UNLIKE:"embedded_post_unlike"})}),null);
__d("XPostPluginLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/platform/plugin/post/logging/",{})}),null);
__d("PluginFeedFooterActionLogger",["AsyncRequest","DOM","EmbeddedPostPluginActions","EmbeddedPostPluginActionTypes","Event","XPostPluginLoggingController"],(function a(b,c,d,e,f,g){__p&&__p();var h={initializeClickLoggers:function i(j,k,l,m,n,o,p,q,r){var s=function s(t,u){try{var v=c("DOM").find(j,"."+t);c("Event").listen(v,"click",function(x){new(c("AsyncRequest"))().setURI(c("XPostPluginLoggingController").getURIBuilder().getURI()).setData({action:u,action_type:c("EmbeddedPostPluginActionTypes").CLICK,source:o,story_token:p,referer_url:q,is_sdk:r}).send()})}catch(w){}};s(k,c("EmbeddedPostPluginActions").EMBEDDED_POSTS_LIKE);s(l,c("EmbeddedPostPluginActions").EMBEDDED_POSTS_UNLIKE);s(m,c("EmbeddedPostPluginActions").EMBEDDED_POSTS_COMMENT);s(n,c("EmbeddedPostPluginActions").EMBEDDED_POSTS_SHARE)}};f.exports=h}),null);
__d("randomInt",["invariant"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){__p&&__p();var l=arguments.length;l>0&&l<=2||h(0);if(l===1){k=j;j=0}k=k;k>j||h(0);var m=this.random||Math.random;return Math.floor(j+m()*(k-j))}f.exports=i}),null);
__d("ClientIDs",["randomInt"],(function a(b,c,d,e,f,g){var h={},i={getNewClientID:function j(){var k=Date.now(),l=k+":"+(c("randomInt")(0,4294967295)+1);h[l]=true;return l},isExistingClientID:function j(k){return!!h[k]}};f.exports=i}),null);
__d("FBFeedLocations",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,POLITICIANS_FEED:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,ENDORSEMENTS:113,EVENTS_DASHBOARD:114,CURATED_COLLECTIONS_PAGE:115,OYML:116,COLLEGE_HOMEPAGE:117,GROUP_LIVE_VIDEOS_CARD:118,COLLEGE_HIGHLIGHTS:119,VIDEO_PERMALINK:120,JOB_CAROUSEL_NETEGO:121,TOPIC_PAGE:122,USER_SCHEDULED_POSTS:123,GOODWILL_THROWBACK_ATTACHMENT_PREVIEW:124,INSTREAM_VIDEO_IN_WASLIVE:125,INSTREAM_VIDEO_IN_NONLIVE:126,SIGNAL_APP:127,ALBUM_FEED:128,TOP_MARKETPLACE_STORIES:129,CE_PII_STRIPPED_FEED:130,TAHOE:131,SAVE_COUNT_DIALOG:132,GROUP_POST_TAG_FEED:133,GOV_DIGEST:134,GROUP_SCHEDULED:135,GAMEROOM_FEED:136,WORKPLACE_HUB_PREVIEW:137,BRANDED_CONTENT_TRENDING_POSTS:138,GROUP_ANNOUNCEMENTS:139,GROUP_ANNOUNCEMENTS_FEED:140,EXTERN_CE_PII_STRIPPED_FEED:141,CRISIS_HUB_DESKTOP:142,GROUP_DRAFT_POSTS:143,TRENDING_ISSUES:144,GAME_HUB_FEED:145,LUMOS_POST_PREVIEW:146,BRANDED_CONTENT_PAGE_SETTINGS:147,PETITIONS:148,BC_MULTI_POST_REVIEW:149,ADS_TRANSPARENCY_SHOW_ADS:150,POLITICAL_POST_FEED:151})}),null);
__d("PluginFeedLikeButton",["Arbiter","AsyncFormRequestUtils","ClientIDs","CSS","DOM","DOMEventListener","FBFeedLocations","FormSubmit","Keys","PluginOptin","URI"],(function a(b,c,d,e,f,g){__p&&__p();window.resetConfirmStoryLike=function(i){c("CSS").show(c("DOM").find(document,"#likeStory_"+i));c("DOM").remove(c("DOM").find(document,"#confirmStory_"+i))};var h={addClientId:function i(j){j.setAttribute("value",c("ClientIDs").getNewClientID())},loggedOutLikeButton:function i(j,k,l){var m="";if(k===c("FBFeedLocations").EMBED)m="post";else if(k===c("FBFeedLocations").PAGE_PLUGIN)m="page";else throw new Error("Invalid FBFeedLocation type.");var n=new(c("PluginOptin"))(m).addReturnParams({act:"like_"+j});c("DOMEventListener").add(l,"click",n.start.bind(n))},init:function i(j,k,l,m,n){__p&&__p();var o=function o(r){if(r.type==="keypress")if(r.keyCode===c("Keys").RETURN||r.keyCode===c("Keys").SPACE)c("FormSubmit").send(n);else return;c("FormSubmit").send(n)};c("DOMEventListener").add(k,"click",o);c("DOMEventListener").add(l,"click",o);c("DOMEventListener").add(k,"keypress",o);c("DOMEventListener").add(l,"keypress",o);var p=m.getAttribute("value")==="1";c("AsyncFormRequestUtils").subscribe(n,"send",function(r){var s=m.getAttribute("value")==="1";c("CSS").conditionShow(l,s);c("CSS").conditionShow(k,!s);c("Arbiter").inform("embeddedUfiToggle",{isLike:s,storyToken:j});m.setAttribute("value",s?"":"1")});c("AsyncFormRequestUtils").subscribe(n,"response",function(r){var s=r.response.payload;if(s&&!s.success){var t=s.isLike;c("CSS").conditionShow(k,t);c("CSS").conditionShow(l,!t);c("Arbiter").inform("revertLike",{isLike:t,storyToken:j});m.setAttribute("value",t?"1":"")}});var q=new(c("URI"))(window.location.search).getQueryData();if(p&&q.act==="like_"+j)c("FormSubmit").send(n)}};f.exports=h}),null);